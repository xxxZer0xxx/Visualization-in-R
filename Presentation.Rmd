---
title: "R Markdown"
date: "`r format(Sys.Date(), '%d %b %Y')`"
output: 
  beamer_presentation: 
    theme: "Madrid"
urlcolor: blue
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

## Content

- What is R Markdown?
- Summary of the advantages
- Approach
- Syntax for the main functions
- Specific examples
- Overview
- Exercices and closure
- Refernces

## Installation
Before you start, make sure you have installed the R Markdown package  
\  
  
> install.package("rmarkdown")

## Introduction
\begin{center}
\includegraphics[scale=0.6]{IMG/Crisis}
\end{center}

## What is R Markdown?

### Markdown = Language for text formatting  

* an easy to write plain text format for creatin dynamic documents and reports  
* contains "normal" text and code chunks (e.g. R, but Python, SQL, and more also possible)  
* RMD -> MD -> html, Docx or PDF  
* Formatting documents outside the analysis  

### Creating a document that can contain both text and code:

* When creating ("knitting"), the code is executed and displayed together with the description.  
* Only a document with out warnings/errors can be knitted!  
* Possible to export a Word, HTML or PDF file.  

## Advantages

### Why should you use R Markdown

* Research becomes reproducible
* Share your analysis (results and associated documentation)
* Consolidate your and document into a single file
* Easy for version Control (e.g. Git/GitHub)
* Your output file will look great with harldy any effort on your part

## Approach
1. Open RStudio -> File -> New File -> R Markdown
2. Enter a title for the document (optionally enter an author)
3. Choose an output format
4. YAML Headline: Final choice of your output format
5. Write the markdown
6. Embed Code
7. Rendering Output  
    + RStudio: "Knit" (Ctrl+Shift+K)
    + Command line: rmarkdown:: render("input.Rmd")


## Open new Markdown file

\begin{center}
\includegraphics[scale=0.45]{IMG/NewRMD}
\end{center}


## Give your file a title

\begin{center}
\includegraphics[scale=0.45]{IMG/NewRMDSet}
\end{center}

## Setting up your own R Markdown Document  

You are going to present your work on the "Bike Rental" dataset. 

### Exercise
* Title: "Analysis of the bike rental dataset"  
* Subtitle: Your name  


## Choose the output format

* You can shoose between HTML, PDF and Docx(Word)  
   + **HTML** is recommeneded, since everybody can read it
* You can always change your output format, in the  YAML header

## Starting Point

\begin{center}
\includegraphics[scale=0.30]{IMG/RMDDefault}
\end{center}

## Rendering output

\begin{center}
\includegraphics[scale=0.45]{IMG/Knitr}
\end{center}
* Press **"Knit"** in Rstudio 
* Press **Ctrl+Shift+K** (Windows)
* Procedure[^1]

\begin{center}
\includegraphics[scale=0.45]{IMG/Procedure}
\end{center}

[^1]: https://d33wubrfki0l68.cloudfront.net/61d189fd9cdf955058415d3e1b28dd60e1bd7c9b/b739c/lesson-images/rmarkdownflow.png


## YAML Header

\definecolor{green-code}{HTML}{2eb82e}

### Example
\begin{center}
\includegraphics[scale=0.45]{IMG/YAMLHeader}
\end{center}
  
### Output types


Type | Format | Option in YAML Header
-----|--------|------------------------
Website | HTML | \textcolor{green-code}{output}: \textcolor{green-code}{html\_document}  
Document | PDF | \textcolor{green-code}{output}: \textcolor{green-code}{pdf\_document}  
Document (Word) | DOCX | \textcolor{green-code}{output}: \textcolor{green-code}{word\_document}  
Presentation (beamer) | PDF |\textcolor{green-code}{output}: \textcolor{green-code}{beamer\_presentation}  
Presentation (ioslides) | HTML | \textcolor{green-code}{output}: \textcolor{green-code}{ioslides\_presentation}  

## YAML Header
\definecolor{green-code}{HTML}{2eb82e}
Additional YAML sesstings  

* \textcolor{green-code}{toc}: table of content  
* \textcolor{green-code}{bibliography}: biblioraphy.bib file with your references
* \textcolor{green-code}{csl}: custom citation style
* \textcolor{green-code}{abstract}: Space to write an abstract  
* \textcolor{green-code}{css}: use custom css [HTML]
* \textcolor{green-code}{fig\_width, fig\_height, fig\_caption}: figure options 
* \textcolor{green-code}{include}: include other .tex files [PDF]

## Your fancy Table of Content
### Exercise
\begin{center}
\includegraphics[scale=0.45]{IMG/YAMLHeaderExercise}
\end{center}

## Text Formatting Examples

Text formatting |
-----|----------------
Text | Text
`` `r "*italic*"` `` or `` `r "_italic_"` `` | *italic*
`` `r "**bold**"` `` or `` `r "__bold__"` ``| **bold**
`` `r "[link](www.sbg.ac.at)"` `` | [link](www.sbg.ac.at)

## Write markdown

You can use the Quick Reference or the Cheatsheet  
Both can be found by opening the **Help** dropdown menu which is positioned in the top bar
\begin{center}
\includegraphics[scale=0.45]{IMG/QuickReference}
\includegraphics[scale=0.35]{IMG/Cheatsheet}
\end{center}


## Expanding your R Markdown Document

### Exercise
1. Set a header: "Part I: Summary statistics"  
2. Write a plain text introduction using empahsis and lists according to Reference Guide 
and reproduce the following: 
3. Create some sub headers
4. Load Image
5. Knit


## Embed your code    
    
### Inline Code
\begin{center}
\includegraphics[scale=0.45]{IMG/InlineCode}
\end{center}
The mean speed of cars is `r mean(cars$speed)`. 

### Code Chunk 
\begin{center}
\includegraphics[scale=0.45]{IMG/CodeChunk}
\end{center}
```{r cars_example, echo=TRUE}
summary(cars)
```

## How to get this " ` " symbol

Press Shift + ` (twice or followed by Space)
\begin{center}
\includegraphics[scale=0.45]{IMG/Keyboard}
\end{center}


## Embed your code
Option | Description
-----------------|--------------------
**eval**(logical, TRUE) | Evalue chunk
**echo**(logical, TRUE) | Hides R-Code
**results**(char, "markup") | Formatting R output: e.g. "markup", "asis"

## Importing the dataset

### Exercise
Now lets import our dataset while hiding our code.  
To import the dataset you will want to use read.csv()  
    
    
### Hint
`If you are using a project or set your working directory, 
you can use "./dataset/day.csv"`

## Create a stastical overview

### Exercise
Now lets use some basic statiscal commands using the following   
commands on the count variabel in the bike rental dataset:  
  
### Commands
`summary()`  
`mean()`  
`sd()`  

## Embed your code
You can also use other languges like Python, SQL, Javascript and more while using *R Markdown*

### Example

```{python python_example, echo=TRUE}
x = 'hello, python world!'
print(x.split(' '))
```

## Creating a table

### Create the following output:

Command | Result
--------|-------
`mean()` | `r mean(cars$speed)`
`sd()` | `r round(sd(cars$speed), 2)`

## Write Inline and Plotting

### Exercise
1. Automatically write the Minimum in the output of the sentence
    + `The smallest value of count is [inline code].`
2. Add a horizontal line
3. Set a header: "Part II: Visualization"
4. Use the command `plot()` to gernerate a scatterplot. Do not print the code!
5. Add some plain text, divided into two lines:
    + "Figure I:
    + Correlation of count and day"
    
    
## Create Hyperlinks

### Exercise
1.  Write *"You can learn more about R Markdown here."*, with `here` beeing the the following link:
    +  \textcolor{blue}{https://rmarkdown.rstudio.com/}  
2. Add *"Stay Healthy"* as blockquote
    

### How it should look      
You can learn more about R Markdown [here](https://rmarkdown.rstudio.com/).  
 
> "Stay Health!"


## References

* https://rmarkdown.rstudio.com/lesson-1.html
* https://www.is.uni-freiburg.de/resources/computational-economics/R_Markdown.pdf
* https://www.youtube.com/watch?v=u4ZdvYXjsIo
* https://bookdown.org/yihui/rmarkdown/
